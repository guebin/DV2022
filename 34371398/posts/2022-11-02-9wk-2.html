<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="최규빈">
<meta name="dcterms.date" content="2022-11-02">

<title>DV2022 - 09wk-2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">DV2022</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/guebin/DV2022/tree/main/posts"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/channel/UCQk9RyBNgXc7ORIsYlOfQrg/playlists?view=50&amp;sort=dd&amp;shelf_id=2"><i class="bi bi-youtube" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">09wk-2</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">훌륭한 시각화</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>최규빈 </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 2, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#강의영상" id="toc-강의영상" class="nav-link active" data-scroll-target="#강의영상">강의영상</a></li>
  <li><a href="#ref" id="toc-ref" class="nav-link" data-scroll-target="#ref">ref</a></li>
  <li><a href="#presentation-vs-exploration" id="toc-presentation-vs-exploration" class="nav-link" data-scroll-target="#presentation-vs-exploration">Presentation vs Exploration</a>
  <ul class="collapse">
  <li><a href="#presentation" id="toc-presentation" class="nav-link" data-scroll-target="#presentation">Presentation</a></li>
  <li><a href="#exploration" id="toc-exploration" class="nav-link" data-scroll-target="#exploration">Exploration</a></li>
  <li><a href="#절충" id="toc-절충" class="nav-link" data-scroll-target="#절충">절충</a></li>
  </ul></li>
  <li><a href="#메시지를-뒷받침하는-그림을-그려야-한다" id="toc-메시지를-뒷받침하는-그림을-그려야-한다" class="nav-link" data-scroll-target="#메시지를-뒷받침하는-그림을-그려야-한다">메시지를 뒷받침하는 그림을 그려야 한다</a>
  <ul class="collapse">
  <li><a href="#인구문제에-대한-편견" id="toc-인구문제에-대한-편견" class="nav-link" data-scroll-target="#인구문제에-대한-편견">인구문제에 대한 편견</a></li>
  <li><a href="#에서-제기된-리들리의-메시지" id="toc-에서-제기된-리들리의-메시지" class="nav-link" data-scroll-target="#에서-제기된-리들리의-메시지">&lt;이성적 낙관주의자&gt;에서 제기된 리들리의 메시지</a>
  <ul class="collapse">
  <li><a href="#카이로" id="toc-카이로" class="nav-link" data-scroll-target="#카이로">카이로</a></li>
  <li><a href="#소감" id="toc-소감" class="nav-link" data-scroll-target="#소감">소감</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#흥미로운-자료와-틀린해석" id="toc-흥미로운-자료와-틀린해석" class="nav-link" data-scroll-target="#흥미로운-자료와-틀린해석">흥미로운 자료와 틀린해석</a></li>
  <li><a href="#예쁜그림을-그리려다가-메시지가-흐려지지-않도록-하라" id="toc-예쁜그림을-그리려다가-메시지가-흐려지지-않도록-하라" class="nav-link" data-scroll-target="#예쁜그림을-그리려다가-메시지가-흐려지지-않도록-하라">예쁜그림을 그리려다가 메시지가 흐려지지 않도록 하라</a>
  <ul class="collapse">
  <li><a href="#사례1-남미국가의-국방력" id="toc-사례1-남미국가의-국방력" class="nav-link" data-scroll-target="#사례1-남미국가의-국방력">사례1: 남미국가의 국방력</a></li>
  <li><a href="#사례2-스페인의-실업률" id="toc-사례2-스페인의-실업률" class="nav-link" data-scroll-target="#사례2-스페인의-실업률">사례2: 스페인의 실업률</a></li>
  <li><a href="#사례3-버블의-남용" id="toc-사례3-버블의-남용" class="nav-link" data-scroll-target="#사례3-버블의-남용">사례3: 버블의 남용</a></li>
  </ul></li>
  <li><a href="#라인플랏-바플랏-산점도" id="toc-라인플랏-바플랏-산점도" class="nav-link" data-scroll-target="#라인플랏-바플랏-산점도">라인플랏, 바플랏, 산점도</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<blockquote class="blockquote">
<p>Presentation vs Exploration, 메시지를 뒷받침하는 그림, 흥미로운 자료와 틀린해석, 예쁜그림의 함정, (line,bar,scatter)의 용도</p>
</blockquote>
<section id="강의영상" class="level1">
<h1>강의영상</h1>
<p><a href="https://youtube.com/playlist?list=PLQqh36zP38-yh9AnfWEzztWA3flQXkq9g" class="uri">https://youtube.com/playlist?list=PLQqh36zP38-yh9AnfWEzztWA3flQXkq9g</a></p>
</section>
<section id="ref" class="level1">
<h1>ref</h1>
<p>Cairo, A. Functional Art, The: An Introduction to Information Graphics and Visualization, New Riders, 2012. San Francisco, US.</p>
<p><code>-</code> ((일반적생각, 카이로의 생각), 제 생각)으로 나누어서 설명</p>
</section>
<section id="presentation-vs-exploration" class="level1">
<h1>Presentation vs Exploration</h1>
<section id="presentation" class="level2">
<h2 class="anchored" data-anchor-id="presentation">Presentation</h2>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG1.png?raw=true" class="img-fluid"></p>
<p><code>-</code> 프리젠테이션방식의 시각화는 화자가 다듬은 이야기를 전달하기에 좋은 시각화이다. 즉 잘 정리된 메시지를 전달하기에 좋다.</p>
</section>
<section id="exploration" class="level2">
<h2 class="anchored" data-anchor-id="exploration">Exploration</h2>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG2.png?raw=true" class="img-fluid"></p>
<ul>
<li>문학적유기체라는 작품이다. <a href="https://www.stefanieposavec.com/">링크</a>.</li>
<li>어떤 소설책을 시각화.</li>
<li>수형도 + 칼라</li>
<li>수형도의 의미: 단원, 문단, 문장, 단어 (수형도 계층적 구조를 시각화 하기에 뛰어남. ex: 리그레션트리!)</li>
<li>색깔: 여행, 음악, 파티 등 소설에서 자주 등장하는 소재 (색은 범주형 변수를 표현하기에 뛰어남)</li>
</ul>
<p><code>-</code> 익스플로래이션 방식은 독자가 스스로 그림에서 메시지를 찾아낸다.</p>
<p><code>-</code> 소설을 읽어보지 않은 사람: 이 그래픽으로 소설책의 전체 주제를 미리 파악가능</p>
<p><code>-</code> 소설을 이미 읽어본 사람: 분석 &amp; 탐구를 할 수 있음. ex: 파티와 음악이 동시에 등장하는 경우가 많다.</p>
</section>
<section id="절충" class="level2">
<h2 class="anchored" data-anchor-id="절충">절충</h2>
<p><code>-</code> 카이로: 사실 프리젠테이션과 익스플로레이션은 절충가능함</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG3.png?raw=true" class="img-fluid"></p>
<ul>
<li>aes(x=‘GDP’,y=‘불평등’,text=‘년도’,color=‘정부’)</li>
<li>초록색정부: 소득이 증가 &amp; 불평등이 훨씬 더 증가</li>
<li>갈색정부: 매우 빠른 경제 성장</li>
<li>포인트간의 간격이 조밀하다 = 변화가 더디다 // 포인트간의 간격이 넓다 = 변화가 빠르다.</li>
</ul>
<p><code>-</code> 언뜻보기에는 우리에게 익숙한 라인플랏인듯 보이지만 의외로 정보를 해석할만한 요소가 있다.</p>
<blockquote class="blockquote">
<p>익스플로레이션형의 그래프는 그릴줄도 알아야 하지만 남이 그린 그래프를 해석할 수도 있어야함.</p>
</blockquote>
</section>
</section>
<section id="메시지를-뒷받침하는-그림을-그려야-한다" class="level1">
<h1>메시지를 뒷받침하는 그림을 그려야 한다</h1>
<section id="인구문제에-대한-편견" class="level2">
<h2 class="anchored" data-anchor-id="인구문제에-대한-편견">인구문제에 대한 편견</h2>
<p><code>-</code> 주장1 (맬서스주의자): 가난한 나라들의 출산율이 너무 높음 <span class="math inline">\(\to\)</span> 세계인구가 90억까지 증가할 것이다. (현재 70억)</p>
<p><code>-</code> 주장2: 잘사는 나라에서는 애를 적게 낳음 <span class="math inline">\(\to\)</span> 고령화 문제</p>
</section>
<section id="에서-제기된-리들리의-메시지" class="level2">
<h2 class="anchored" data-anchor-id="에서-제기된-리들리의-메시지">&lt;이성적 낙관주의자&gt;에서 제기된 리들리의 메시지</h2>
<p><code>-</code> 둘다 틀렸다.</p>
<p><code>-</code> 주장1의 반박: 가난한 나라의 출산율은 점점 감소하고 있음. (특히 가난하다가 막 부유해진 나라는 이러한 감소폭이 드라마틱함, ex: 브라질)</p>
<p><code>-</code> 주장2의 반박: 평균적으로 잘사는 국가들의 출산률이 매우 낮은것은 사실이나 최근들어 약간 증가하는 경향을 보임. (ex: 스웨덴, 영국, 노르웨이, 스페인)</p>
<p><code>-</code> 리들리의 주장: 결국 세계의 인구는 안정화 될 것 (증가하지도 감소하지도 않는다)</p>
<p><code>-</code> 리들리의 주장을 뒷받침하기 위해 그린 그림</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG4.png?raw=true" class="img-fluid"></p>
<ul>
<li>이 그림은 간단명료해 보이지만 리들리의 주장을 뒷받침하기에는 부족하다.</li>
<li>그림에서 얻을 수 있는 정보: 인구변화를 연도별로 나열했더니 성장속도가 둔화된다는 사실</li>
<li>리들리가 주장한 다양한 패턴은 이 그림에 보이지 않는다. (출산률이 회복되고 있다는 선진국이라든가, 브라질/인도와 같은 나라의 인구안정화에 대한 주장)</li>
</ul>
<section id="카이로" class="level3">
<h3 class="anchored" data-anchor-id="카이로">카이로</h3>
<p><code>-</code> 리들러의 메시지는 아래의 그림들이 더 잘 전달한다.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG5.png?raw=true" class="img-fluid"></p>
<ul>
<li>스웨덴, 노르웨이 -&gt; 출산률 증가</li>
<li>브라질, 인도 -&gt; 출산률 대폭감소</li>
</ul>
</section>
<section id="소감" class="level3">
<h3 class="anchored" data-anchor-id="소감">소감</h3>
<p><code>-</code> 어떠한 통계량 혹은 현상을 살펴볼때 그것의 부분집합들이 역시 그러한지 살펴보는것은 기본임 (그룹별로 파악하면 정반대의 결과가 나올 수 있음)</p>
<p><code>-</code> 중요한 선을 제외한 나머지는 회색처리(일러스트레이터 사용) 한 것이 시각적으로 우수하며, 인상적이었음</p>
<p><code>-</code> 과학적인 논문작업에 들어갈 그림이라면 임의로 회색처리한 것이 다소 비판을 받을 수 있음.</p>
<hr>
</section>
</section>
</section>
<section id="흥미로운-자료와-틀린해석" class="level1">
<h1>흥미로운 자료와 틀린해석</h1>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG6.png?raw=true" class="img-fluid"></p>
<ul>
<li>Left: aes(x=‘출산율’, y=‘수입’)</li>
<li>Right: aes(x=‘출산율’, y=‘전체 중학생중 여학생이 차지하는 비율’)</li>
</ul>
<p><code>-</code> 해설: 당신이 부자가 될수록 당신은 더 적은 아이를 가질 것이다 + 중학교에 진학하는 여성이 적을수록 아이를 많이 낳는다. (그림밑에 주석을 해석) - 교재의문장: “중학교에 진학하는 여성이 적을수록 아이를 많이 낳는다고 해석할 수 있다.”</p>
<p><code>-</code> 여학생들을 중학교에 보내지 않으면 출산율이 올라가나요???</p>
</section>
<section id="예쁜그림을-그리려다가-메시지가-흐려지지-않도록-하라" class="level1">
<h1>예쁜그림을 그리려다가 메시지가 흐려지지 않도록 하라</h1>
<section id="사례1-남미국가의-국방력" class="level2">
<h2 class="anchored" data-anchor-id="사례1-남미국가의-국방력">사례1: 남미국가의 국방력</h2>
<p><code>-</code> 아래는 남미국가들의 국방력을 시각화한 그림</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG7.png?raw=true" class="img-fluid"></p>
<ul>
<li>쓸모없는 그래픽</li>
<li>뭐 기억나는 것이 있나요?</li>
</ul>
<p><code>-</code> 아래가 더 우수한 그림이다. 더 정확한 비교를 할 수 있어요.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG8.png?raw=true" class="img-fluid"></p>
<p><code>-</code> 그리고 위의 그림보다 아래의 그림이 더 우수한 시각화이다.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG9.png?raw=true" class="img-fluid"></p>
<ul>
<li>브라질이 국방력도 우수하고 예산도 많이 투자하는 것 같지만 인구가 흑막인것 같다.</li>
</ul>
<p><code>-</code> 흑막을 제거</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG10.png?raw=true" class="img-fluid"></p>
<p><code>-</code> 최종적으로 제안하는 그래프</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG11.png?raw=true" class="img-fluid"></p>
<ul>
<li>좌측하단: aes(x=‘인구’, y=‘군인수’, size=‘예산’)</li>
<li>우측하단: 관심있는 그래프가 아님</li>
</ul>
<p><strong><em>사실 저는 좌측하단의 그래프가 좋은 시각화라고 생각안해요</em></strong></p>
<p><code>-</code> 1사분면의 의미: 인구도 높고 군인수도 많은 나라 (똑같은 정보임 의미가 없다. 마치 x축이 토익점수, y축이 텝스점수 같은느낌임)</p>
<ul>
<li>모든 점들이 직선에 몰려있다면? <span class="math inline">\(\to\)</span> 왜 2차원으로 표현함?</li>
</ul>
<p><code>-</code> 저같으면 aes(x=‘예산(인구효과제거)’, y=‘군인수(인구효과제거)’,size=‘인구’)로 할것 같아요.</p>
<ul>
<li>1사분면의 의미: 예산도 많이 쓰고 군인수도 많은나라 = 콜롬비아.</li>
<li>4사분면의 의미: 예산은 많이 쓰는데 군인수가 적은나라 = 브라질</li>
</ul>
<p><code>-</code> 산점도에서 데이터를 한눈에 파악하고 특징을 요약하기 위해서는 X,Y를 너무 비슷한 성질의 변수로 설정하지마라.</p>
<p>아래중 어떤것이 더 바람직한 그래프인가?</p>
<ul>
<li>aes(x=‘토익’, y=‘텝스’, color=‘합/불’, shape=‘회사의종류’)</li>
<li>aes(x=‘토익’, y=‘GPA’, color=‘합/불’, shape=‘회사의종류’)</li>
</ul>
</section>
<section id="사례2-스페인의-실업률" class="level2">
<h2 class="anchored" data-anchor-id="사례2-스페인의-실업률">사례2: 스페인의 실업률</h2>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG12.png?raw=true" class="img-fluid"></p>
<ul>
<li>명암으로 왜 크기비교를 하는것인가?</li>
</ul>
<p><code>-</code> 비교를 위해서는 바플랏이 더 우수하다.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG13.png?raw=true" class="img-fluid"></p>
</section>
<section id="사례3-버블의-남용" class="level2">
<h2 class="anchored" data-anchor-id="사례3-버블의-남용">사례3: 버블의 남용</h2>
<p><code>-</code> 카이로교수님의 강의자료에 등장하는 그림</p>
<p><code>-</code> 회색이 befor, 검은색이 after</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG14.png?raw=true" class="img-fluid"></p>
<ul>
<li>크기비교는 바플랏으로 하는것이 아니다.</li>
</ul>
<p><code>-</code> 우리눈은 작원원이 큰원의 절반정도 차지한다고 느껴진다.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG15.png?raw=true" class="img-fluid"></p>
<p><code>-</code> 그렇지만 실제로는 아래와 같음</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG16.png?raw=true" class="img-fluid"></p>
<p><code>-</code> 버블차트는 크기를 왜곡시킨다.</p>
<hr>
<p><code>-</code> 하지만 아래의 버블차트는 우수하다.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG17.png?raw=true" class="img-fluid"></p>
<p><code>-</code> 선거지도는 수치비교에 별로 관심이 없다.</p>
<p><code>-</code> 대신에 민주당표와 공화당표가 어떤 지역에 몰렸는지 파악하는 것이중요</p>
<p><code>-</code> 따라서 aes중 가장 중요한 x,y를 모두 지역에 투자함</p>
<hr>
</section>
</section>
<section id="라인플랏-바플랏-산점도" class="level1">
<h1>라인플랏, 바플랏, 산점도</h1>
<p><code>-</code> 시간경과에 따른 변화를 보여주고 싶으면 라인플랏, 비교를 하고 싶다면 바플랏, 관계를 알고싶다면 산점도.</p>
<p><img src="https://github.com/guebin/DV2021/blob/master/_notebooks/2021-11-16-FIG18.png?raw=true" class="img-fluid"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>